syntax = "proto3";

package svc.cliupdate.v1;

import "types/v1/version.proto";

option go_package = "svc/cliupdate/v1;cliupdatev1";

service UpdateService {
  rpc GetNextUpdate(GetNextUpdateRequest) returns (GetNextUpdateResponse) {}
}

message GetNextUpdateRequest {
  types.v1.Version current_version = 1;
  UpdateRequestInfo info = 2;
  
}

message GetNextUpdateResponse {
  types.v1.Version next_version = 1;
}

message UpdateRequestInfo {
  string operating_system = 1;
  string architecture = 2;
  string machine_id = 3;
  string account_id = 4;
}